---
layout: post
title: Linux查看磁盘空间命令
categories: Program
tags: linux df shell disk
---

## Linux如何查看磁盘空间

前段时间碰到了这样一个问题，在Amazon云服务器上面建了一个专门micro server去host一些杂七杂八需要维护的网站，还有一个广告服务器。

这些网站都是用Wordpress搭建的，直到有一天，后台先是无法修改首页文件了，一点Update就会被带到Post List页面，然后是照片上传失败，再然后是广告服务器也出问题了。出的问题还非常奇怪，有的广告报http error 500, internal server error，还不是所有广告出问题，有的是正常的，有的就挂掉了。百思不得其解啊，怎么会有这种bug，坏还不全坏。

想了好久到底是哪出的问题，ssh到amazon的后台发现，大量产生的log文件把硬盘塞了个满满当当，这才是一切问题之源啊，清理了log文件后，一切又恢复了正常。真是踏破铁鞋无觅处。

> 那么问题来了，怎么能查看Linux的磁盘空间呢？

    df -h

这个命令可以查磁盘各分区占用情况，所以要想知道磁盘有没有满，用这个命令就没错啦。

    du -sh *

这个命令可以查当前目录下各子目录的大小，非常有用，可以揪出来占用空间的罪魁祸首。*是通配符，可以换成任意你想查看的子文件或子目录。

譬如

    du -sh foo

有时候某网站出了什么问题，还真有可能不是软件的bug，而是服务器出问题了，学习了。